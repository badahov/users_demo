(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[10],{106:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var r=n(1),o=n.n(r),a=n(8),i=n(440),u=n(133),c=n(58);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=i.a.confirm,b=e.env.API_AUTH,h=function(t){function n(){var t,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return o=this,i=(t=p(n)).call.apply(t,[this].concat(c)),r=!i||"object"!==l(i)&&"function"!=typeof i?f(o):i,d(f(r),"loginPage",function(){a.c.push("/login")}),d(f(r),"handleLogout",function(){var t=f(r);y({title:"Вы хотите выйти?",okText:"Да",okType:"danger",cancelText:"Нет",onOk:function(){var n=b+e.env.SET_POINT+"/auth/log-out",r=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);r.open("POST",n,!0),r.withCredentials=!0,r.send(),r.onload=function(){var n=e.env.API+e.env.SET_POINT+"/auth/log-out",r=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);r.open("POST",n,!0),r.withCredentials=!0,r.send(),r.onload=function(){t.loginPage()}}},onCancel:function(){console.log("Cancel handle logout")}})}),r}var i,h,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,r["Component"]),i=n,(h=[{key:"render",value:function(){return o.a.createElement(u.a,{type:"danger",size:"small",onClick:this.handleLogout},o.a.createElement(c.a,{type:"logout"})," Выход")}}])&&s(i.prototype,h),v&&s(i,v),n}()}).call(this,n(27))},413:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(85);function o(e){return new r.a({pointApi:"interface-users/user",type:r.a.get,data:e}).result()}function a(){return new r.a({domain:e.env.API_AUTH,type:r.a.get,pointApi:"interface-users/user-current"}).result()}function i(e,t,n){return new r.a({pointApi:"interface-users/user-edit",data:e}).result().then(function(e){e&&n instanceof Function&&n(t)})}}).call(this,n(27))},414:function(e,t,n){},436:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"user",function(){return p});var o=n(1),a=n.n(o),i=n(67),u=n(64),c=n(108);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){return function(t){return function(n){switch(n.type){case"USER_CURRENT":case"USER_ITEM":var r=l(n.actions,3),o=r[0],a=r[1],i=r[2];e.dispatch({type:o,data:"start"}),n.promise.then(function(t){e.dispatch({type:a,data:t}),e.dispatch({type:o,data:"end"})},function(t){e.dispatch({type:i,error:t})});break;default:return t(n)}}}},p=Object(u.combineReducers)({action:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ITEM_LOADING":return t.data;default:return e}},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CURRENT_LOADED":return t.data;default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ITEM_LOADED":return t.data;default:return e}}}),f=Object(u.applyMiddleware)(s,c.a)(u.createStore)(Object(u.combineReducers)(r)),m=n(119),d=n.n(m),y=n(413);function b(e){return{type:"USER_ITEM",actions:["USER_ITEM_LOADING","USER_ITEM_LOADED","USER_ITEM_LOAD_FAILURE"],promise:Object(y.c)(e)}}function h(){return{type:"USER_CURRENT",actions:["USER_CURRENT_LOADING","USER_CURRENT_LOADED","USER_CURRENT_LOAD_FAILURE"],promise:Object(y.a)()}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"USER_EDIT",actions:["USER_EDIT_LOADED"],model:Object(y.b)(e,t,n)}}var g=n(430),_=n(409),E=n(106),O=n(318),w=n(323),S=n(433),j=n(426),P=n(439),T=n(408),R=n(133);function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:5}}},L=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=this,o=(e=I(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==C(o)&&"function"!=typeof o?F(r):o,U(F(n),"handleSubmit",function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,t){e||(t.operator_id=Number(n.props.user_id),n.props.actionEdit(t))})}),U(F(n),"shouldComponentUpdate",function(e,t){return e.item===n.props.item}),U(F(n),"handleConfirmBlur",function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=!this.props.item;return a.a.createElement(_.a,{tip:"Загрузка...",size:"large",spinning:t},a.a.createElement(O.a,null,a.a.createElement(w.a,{span:24},a.a.createElement(S.a,x({},N,{onSubmit:this.handleSubmit}),a.a.createElement(O.a,{gutter:16,style:{marginBottom:"50px"}},a.a.createElement(S.a.Item,{label:"Код",hasFeedback:!0},e("operator_code",{rules:[{required:!0,message:"Пожалуйста, ввидите код пользователя"}]})(a.a.createElement(j.a,{style:{width:"65%"},min:0,placeholder:"Код пользователя"}))),a.a.createElement(S.a.Item,{label:"Имя",hasFeedback:!0},e("operator_name",{rules:[{required:!0,message:"Пожалуйста, ввидите имя пользователя"}]})(a.a.createElement(P.a,{placeholder:"Имя пользователя"}))),a.a.createElement(S.a.Item,{label:"Логин",hasFeedback:!0},e("operator_login",{rules:[{required:!0,message:"Пожалуйста, ввидите логин пользователя"}]})(a.a.createElement(P.a,{placeholder:"Логин пользователя"}))),a.a.createElement(S.a.Item,{label:"Администратор"},e("is_admin",{valuePropName:"checked"})(a.a.createElement(T.a,null))),a.a.createElement(S.a.Item,{label:"Перепечать"},e("is_reprint_admin",{valuePropName:"checked"})(a.a.createElement(T.a,null)))),a.a.createElement(O.a,{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px 0 10px",background:"#fff",textAlign:"left"}},a.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Изменить"))))))}}])&&A(n.prototype,r),i&&A(n,i),t}();U(L,"defaultProps",{item:null});var M=S.a.create({name:"user_data_form",mapPropsToFields:function(e){return{operator_code:S.a.createFormField(k({},e.item.operator_code,{value:e.item.operator_code})),operator_name:S.a.createFormField(k({},e.item.operator_name,{value:e.item.operator_name})),operator_login:S.a.createFormField(k({},e.item.operator_login,{value:e.item.operator_login})),is_admin:S.a.createFormField(k({},e.item.is_admin,{value:e.item.is_admin})),is_reprint_admin:S.a.createFormField(k({},e.item.is_reprint_admin,{value:e.item.is_reprint_admin}))}}})(L);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:5}}},V=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=B(t).call(this,e),n=!o||"object"!==q(o)&&"function"!=typeof o?J(r):o,G(J(n),"handleSubmit",function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,t){e||(delete t.confirm,t.operator_id=Number(n.props.user_id),n.props.actionEdit(t))})}),G(J(n),"handleConfirmBlur",function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})}),G(J(n),"compareToFirstPassword",function(e,t,r){var o=n.props.form;t&&t!==o.getFieldValue("password")?r("Пароли не совпадают!"):r()}),G(J(n),"validateToNextPassword",function(e,t,r){var o=n.props.form;t&&n.state.confirmDirty&&o.validateFields(["confirm"],{force:!0}),r()}),n.state={confirmDirty:!1},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(O.a,null,a.a.createElement(w.a,{span:24},a.a.createElement(S.a,H({},K,{onSubmit:this.handleSubmit}),a.a.createElement(O.a,{gutter:16,style:{marginBottom:"50px"}},a.a.createElement(S.a.Item,{label:"Пароль",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Пожалуйста, введите пароль!"},{validator:this.validateToNextPassword}]})(a.a.createElement(P.a.Password,null))),a.a.createElement(S.a.Item,{label:"Повторить пароль",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Пожалуйста, повторите пароль!"},{validator:this.compareToFirstPassword}]})(a.a.createElement(P.a.Password,{onBlur:this.handleConfirmBlur})))),a.a.createElement(O.a,{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px 0 10px",background:"#fff",textAlign:"left"}},a.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Изменить")))))}}])&&X(n.prototype,r),i&&X(n,i),t}(),Q=S.a.create({name:"user_password_form",mapPropsToFields:function(){return null}})(V),W=n(225),Y=n(85);function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=W.a.Option,ue={labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:15}}},ce=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ne(t).call(this,e),n=!o||"object"!==$(o)&&"function"!=typeof o?re(r):o,ae(re(n),"handleSubmit",function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,t){if(!e){t.operator_id=Number(n.props.user_id);var r=[];t.roles.map(function(e){r.push({id:Number(e)})}),t.roles=r,n.props.actionEdit(t)}})}),ae(re(n),"handleSelectedChange",function(e){n.setState({selected:e})}),ae(re(n),"shouldComponentUpdate",function(e,t){return t.options!==n.state.options||t.selected!==n.state.selected}),new Y.a({pointApi:"interface-users/role-select"}).send().then(function(e){var t=[];e.map(function(e){t.push(a.a.createElement(ie,{key:e.id},e.title))}),n.setState({options:t})}),n.state={options:[],selected:[]},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(O.a,null,a.a.createElement(w.a,{span:24},a.a.createElement(S.a,ee({},ue,{onSubmit:this.handleSubmit}),a.a.createElement(O.a,{gutter:16,style:{marginBottom:"50px"}},a.a.createElement(S.a.Item,{label:"Выбор ролей",hasFeedback:!0},e("roles",{})(a.a.createElement(W.a,{mode:"multiple",style:{width:"100%"},placeholder:"Пожалуйста, выберите роли",onChange:this.handleSelectedChange},this.state.options)))),a.a.createElement(O.a,{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px 0 10px",background:"#fff",textAlign:"left"}},a.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Изменить")))))}}])&&te(n.prototype,r),i&&te(n,i),t}(),le=S.a.create({name:"user_roles_form",mapPropsToFields:function(e){var t=[];return e.item.roles&&e.item.roles.map(function(e){t.push(String(e.id))}),{roles:S.a.createFormField(Z({},e.operator_code,{value:t}))}}})(ce),se=n(8),pe=n(437),fe=n(58),me=n(427);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=g.a.Header,Ee=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=this,o=(e=be(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==de(o)&&"function"!=typeof o?he(r):o,ge(he(n),"state",{current:"mail"}),ge(he(n),"handleClick",function(e){console.log("click ",e),n.setState({current:e.key})}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement(_e,null,a.a.createElement(pe.a,{title:a.a.createElement("span",null,a.a.createElement(fe.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.props.toggle}),this.props.title),subTitle:this.props.subTitle,extra:this.props.extra}),a.a.createElement(me.b,{onClick:this.handleClick,mode:"horizontal"},a.a.createElement(me.b.Item,{key:"team"},a.a.createElement(se.a,{to:"/"},a.a.createElement(fe.a,{type:"team"}),"Пользователи")),a.a.createElement(me.b.Item,{key:"role"},a.a.createElement(se.a,{to:"/role"},a.a.createElement(fe.a,{type:"cluster"}),"Роли"))))}}])&&ye(n.prototype,r),o&&ye(n,o),t}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=g.a.Sider,Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,je(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e="1";switch(this.props.page){case"data":e="1";break;case"password":e="3";break;case"roles":e="4"}return a.a.createElement(Te,{width:250,trigger:null,collapsible:!0,collapsed:this.props.collapsed},a.a.createElement("div",{className:"logo"},"USER"),a.a.createElement(me.b,{theme:"dark",mode:"inline",defaultSelectedKeys:[e]},a.a.createElement(me.b.Item,{key:"1"},a.a.createElement(se.a,{to:"/user/edit/".concat(this.props.user_id,"/data")},a.a.createElement(fe.a,{type:"idcard"}),a.a.createElement("span",null,"Данные пользователя"))),null,a.a.createElement(me.b.Item,{key:"3"},a.a.createElement(se.a,{to:"/user/edit/".concat(this.props.user_id,"/password")},a.a.createElement(fe.a,{type:"safety"}),a.a.createElement("span",null,"Изменение пароля"))),a.a.createElement(me.b.Item,{key:"4"},a.a.createElement(se.a,{to:"/user/edit/".concat(this.props.user_id,"/roles")},a.a.createElement(fe.a,{type:"control"}),a.a.createElement("span",null,"Управление ролями")))))}}])&&we(n.prototype,r),o&&we(n,o),t}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=g.a.Content,Ue=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=xe(t).call(this,e),n=!o||"object"!==ke(o)&&"function"!=typeof o?Ae(r):o,Fe(Ae(n),"toggle",function(){n.setState({collapsed:!n.state.collapsed})}),Fe(Ae(n),"shouldComponentUpdate",function(e,t){return e.item===n.props.item}),n.state={collapsed:!1,loading:!0},n.props.actionCurrent(),n.props.actionUser({id:e.params.user_id}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;if(this.props.item&&this.props.current){var t=!this.props.current;return a.a.createElement(g.a,null,a.a.createElement(Re,{collapsed:this.state.collapsed,page:this.props.params.page,user_id:this.props.params.user_id}),a.a.createElement(g.a,null,a.a.createElement(d.a,{title:"Users"}),a.a.createElement(Ee,{title:this.props.item.operator_name,subTitle:"login: ".concat(this.props.item.operator_login),collapsed:this.state.collapsed,toggle:this.toggle,extra:[a.a.createElement(E.a,{key:"logout-1"})]}),a.a.createElement(De,{className:"user-edit"},a.a.createElement(_.a,{tip:"Загрузка...",size:"large",spinning:t},"data"===this.props.params.page?a.a.createElement(M,{title:"Добавить пользователя",user_id:this.props.params.user_id,item:this.props.item,actionEdit:this.props.actionEdit,wrappedComponentRef:function(t){return e.form=t}}):null,"password"===this.props.params.page?a.a.createElement(Q,{title:"Добавить пользователя",user_id:this.props.params.user_id,actionEdit:this.props.actionEdit,wrappedComponentRef:function(t){return e.form=t}}):null,"roles"===this.props.params.page?a.a.createElement(le,{title:"Добавить пользователя",user_id:this.props.params.user_id,item:this.props.item,actionEdit:this.props.actionEdit,wrappedComponentRef:function(t){return e.form=t}}):null))))}return null}}])&&Ce(n.prototype,r),o&&Ce(n,o),t}(),Ne=Object(i.connect)(function(e){return{access:e.user.access,action:e.user.action,current:e.user.current,item:e.user.item.data}},function(e){return Object(u.bindActionCreators)({actionCurrent:h,actionUser:b,actionEdit:v,dispatch:e},e)})(Ue);n(414);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,He(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return a.a.createElement(i.Provider,{store:f},a.a.createElement(Ne,{header:this.props.header,location:this.props.location,params:this.props.params}))}}])&&Me(n.prototype,r),u&&Me(n,u),t}();t.default=Be},79:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return a}),n.d(t,"a",function(){return u});var r=n(8),o=e.env.API_AUTH;function a(t){var n=o+e.env.SET_POINT+"/auth/get-xdomain-token",r=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);r.open("POST",n,!0),r.withCredentials=!0,r.send(),r.onload=function(){switch(this.status){case 401:i();break;case 200:var n=JSON.parse(this.responseText),r=t.split("/"),o=r[0]+"//"+r[2]+e.env.SET_POINT+"auth/login",a=new FormData;a.append("xdomainToken",n.xdomainToken);var u=new XMLHttpRequest;u.open("POST",o,!0),u.withCredentials=!0,u.send(a),u.onload=function(){JSON.parse(this.responseText);switch(this.status){case 401:i();break;case 200:location.reload()}}}}}function i(){r.c.push("/login")}function u(){r.c.push("/")}}).call(this,n(27))},85:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var r=n(109),o=n.n(r),a=n(79);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(171);o.a.options={closeButton:!0,progressBar:!0,showMethod:"slideDown",timeOut:4e3};var c=function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"type","POST"),i(this,"data",null),i(this,"pointApi",null),i(this,"domain",e.env.API),i(this,"send",function(){return r._fetch()}),i(this,"result",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.send().then(function(t){return e instanceof Function?e(t):"ok"===t.status?(t.msg&&o.a.success(t.msg),!t.result||t.result):t.msg?(o.a.error(r._errorMsg(t.msg)),!1):void 0})}),i(this,"_getUrl",function(){var n="";if(r.type===t.get){var o=null;r.data&&(o=r._getParams(r.data)),n=o?r.domain+e.env.SET_POINT+r.pointApi+"&"+o:r.domain+e.env.SET_POINT+r.pointApi}else n=r.domain+e.env.SET_POINT+r.pointApi;return n}),i(this,"_getFetchParam",function(){return r.type===t.get?{method:t.get,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}:{method:t.post,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r.data),credentials:"include"}}),i(this,"_fetch",function(){var t=r._getUrl(),n=r._getFetchParam();return u(t,n).then(function(n){if(200===n.status)return n.json();if(500===n.status)throw o.a.error(e.env.ERROR_500),n.statusText;if(404===n.status)throw o.a.error(e.env.ERROR_404),n.statusText;if(417===n.status)throw n.json().then(function(t){t.status?o.a.error(e.env.ERROR_417):o.a.error(r._errorMsg(t.msg))}),n.statusText;if(423===n.status)throw o.a.error(e.env.ERROR_423),n.statusText;if(401!==n.status)throw 403===n.status?(o.a.error(e.env.ERROR_403),n.statusText):n.statusText;Object(a.b)(t)})}),i(this,"_errorMsg",function(e){if("string"==typeof e)return e;var t=['<ul class="list-unstyled">'];return e.map(function(e){return t.push("<li>"+e+"</li>")}),t.push("</ul>"),t.join(" ")}),i(this,"_getParams",function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}),void 0!==n.type&&(this.type=n.type),void 0!==n.data&&(this.data=n.data),void 0!==n.pointApi&&(this.pointApi=n.pointApi),void 0!==n.domain&&(this.domain=n.domain)};i(c,"post","POST"),i(c,"get","GET")}).call(this,n(27))}}]);