{"version":3,"sources":["webpack:///./modules/app/index.jsx","webpack:///./modules/app/component/core/filters.js","webpack:///./modules/app/component/pagination.jsx","webpack:///./modules/app/component/filter/filter.jsx","webpack:///./modules/app/component/filter/sorting.jsx","webpack:///./modules/app/component/filter/search.jsx","webpack:///./modules/app/component/filter/text.jsx","webpack:///./modules/app/component/table/table.jsx","webpack:///./modules/app/core.js","webpack:///./modules/app/component/core/query.js","webpack:///./modules/app/logout.jsx","webpack:///./modules/app/reducer.js","webpack:///./modules/app/middleware/middleware.js","webpack:///./modules/app/middleware/index.js","webpack:///./modules/app/action.js","webpack:///./modules/app/creator.js"],"names":["App","props","children","className","propTypes","PropTypes","element","isRequired","Filters","options","this","params","undefined","query","nextHeader","header","page","callback","action","isUpdate","i","length","param","sort","appConfig","history","push","pathname","Item","url","to","defaultProps","string","shape","number","oneOfType","Items","total","current","onQuery","pageSize","onChange","itemRender","setCurrent","type","originalElement","func","Index","React","memo","data","page_size","setQuery","isArray","Number","next_page_query","next_page_url","offset","page_url","current_page","has_more_pages","last_page","prev_page_query","prev_page_url","any","row","arrayOf","name","Filter","classes","classNames","Sorting","id","handlerClick","ev","up","down","sortArr","target","parentElement","sortClass","sortId","isUndefined","cell","querySelectorAll","item","querySelector","style","display","classList","remove","add","focus","status","fsort","role","aria-controls","onClick","onKeyDown","icon","Search","maxWidth","minWidth","setValue","value","model","setPlaceholder","placeholder","isFocus","addPlaceholder","insertAdjacentHTML","isSelector","selecors","inputRef","createRef","useEffect","input","setAttribute","key","ref","onFocus","onBlur","textContent","bool","Text","Table","overlayClassName","striped","middle","responsive","thead","map","object","Query","json","result","msg","success","error","isString","strLi","newStr","concat","join","errorMsg","isNil","pointApi","domain","config","api","message","fetch","isFunction","responseBefore","send","then","response","get","keys","encodeURIComponent","server","setPoint","prefix","method","headers","credentials","body","JSON","stringify","getUrl","fetchParam","getFetchParam","requestXdomainToken","login","setUrl","auth","xhr","XMLHttpRequest","open","withCredentials","self","onload","loginPage","parse","arr","split","domainAuth","formData","FormData","append","xdomainToken","xhrX","document","location","reload","confirm","Modal","Logout","size","title","okText","okType","cancelText","onOk","urlAuth","urlMain","actionReducers","state","includes","reducer","module","str","models","reducers","a","points","point","toUpper","slice","combineReducers","middlewareAction","store","actions","promise","constructor","dispatch","criticalError","middleware","next","sendTo","creator","bindActionCreators"],"mappings":"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","file":"app.js?hash=69195f175dc4cc9509a5","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport 'antd/dist/antd.css';\n\nimport './css/index.less';\n\nconst App = (props) => {\n  const { children } = props;\n\n  return (\n    <div className=\"theme-user\">\n      {children}\n    </div>\n  );\n};\n\nApp.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default App;\n","import appConfig from '../../../../config';\n\nclass Filters {\n  constructor(options) {\n    this.params = (options.params !== undefined) ? options.params : [];\n    this.query = (options.query !== undefined) ? options.query : null;\n    this.nextHeader = (options.nextHeader !== undefined) ? options.nextHeader : null;\n    this.header = (options.header !== undefined) ? options.header : null;\n    this.page = (options.page !== undefined) ? options.page : null;\n    this.callback = (options.callback !== undefined) ? options.callback : null;\n    this.action = (options.action !== undefined) ? options.action : null;\n  }\n\n  isUpdate() {\n    let isUpdate = false;\n\n    for (let i = 0; i < this.params.length; i += 1) {\n      const param = this.params[i];\n\n      if (this.header[param] !== this.nextHeader[param]) {\n        this.query[param] = this.nextHeader[param];\n        this.query.page = 1;\n\n        delete this.query.sort;\n\n        appConfig.history.push({ pathname: this.page, query: this.query });\n\n        if (this.callback) {\n          this.callback();\n        }\n\n        if (this.action) {\n          this.action();\n        }\n\n        isUpdate = true;\n      } else if (this.query[param] === '') {\n        delete this.query[param];\n        appConfig.history.push({ pathname: this.page, query: this.query });\n      }\n    }\n\n    return isUpdate;\n  }\n}\n\nexport default Filters;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isArray from 'lodash/isArray';\n\nimport { Link } from 'react-router';\n\nimport PaginationAntd from 'antd/lib/pagination';\n\nconst Item = (props) => {\n  const {\n    query,\n    url,\n    className,\n    children,\n  } = props;\n\n  return (\n    <Link\n      query={query}\n      to={{ query, pathname: url }}\n      className={className}\n    >\n      {children}\n    </Link>\n  );\n};\n\nItem.defaultProps = {\n  className: '',\n};\n\nItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  query: PropTypes.shape({\n    page: PropTypes.number.isRequired,\n  }).isRequired,\n  className: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.number,\n  ]).isRequired,\n};\n\nconst Items = (props) => {\n  const {\n    total,\n    current,\n    onQuery,\n    url,\n    pageSize,\n  } = props;\n\n  const handleChange = (page) => {\n    onQuery({ page });\n  };\n\n  const itemRender = (setCurrent, type, originalElement) => (\n    <Item\n      className={originalElement.props.className}\n      query={{\n        page: setCurrent,\n      }}\n      url={url}\n    >\n      {originalElement.props.children}\n    </Item>\n  );\n\n  return (\n    <PaginationAntd\n      total={total}\n      pageSize={pageSize}\n      current={current}\n      onChange={handleChange}\n      itemRender={itemRender}\n    />\n  );\n};\n\nItems.propTypes = {\n  total: PropTypes.number.isRequired,\n  current: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  onQuery: PropTypes.func.isRequired,\n};\n\nconst Index = React.memo((props) => {\n  const {\n    data,\n    url,\n    onQuery,\n  } = props;\n\n  if (data) {\n    const {\n      query,\n      total,\n      page_size: pageSize,\n      current,\n    } = data;\n\n    const setQuery = isArray(query) ? {} : query;\n\n    if (total >= pageSize) {\n      return (\n        <Items\n          total={total}\n          pageSize={pageSize}\n          current={Number(current)}\n          query={setQuery}\n          url={url}\n          onQuery={onQuery}\n        />\n      );\n    }\n  }\n\n  return null;\n});\n\nIndex.defaultProps = {\n  url: '/',\n  data: null,\n};\n\nIndex.propTypes = {\n  url: PropTypes.string,\n  onQuery: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    total: PropTypes.number.isRequired,\n    current: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]).isRequired,\n    next_page_query: PropTypes.shape({\n      page: PropTypes.number.isRequired,\n    }),\n    next_page_url: PropTypes.string.isRequired,\n    offset: PropTypes.number.isRequired,\n    page_size: PropTypes.number.isRequired,\n    page_url: PropTypes.string.isRequired,\n    param: PropTypes.shape({\n      current_page: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n      ]).isRequired,\n      has_more_pages: PropTypes.number.isRequired,\n      last_page: PropTypes.number.isRequired,\n    }),\n    prev_page_query: PropTypes.shape({\n      page: PropTypes.number.isRequired,\n    }),\n    prev_page_url: PropTypes.string.isRequired,\n    query: PropTypes.any,\n    row: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.number.isRequired,\n      query: PropTypes.shape({\n        page: PropTypes.number.isRequired,\n      }),\n      url: PropTypes.string.isRequired,\n    })),\n  }),\n};\n\nexport default Index;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './css/index.css';\n\nconst Filter = (props) => {\n  const { children, className } = props;\n\n  const classes = classNames('row-table-filter', className);\n\n  return (<div className={classes}>{children}</div>);\n};\n\nFilter.defaultProps = {\n  className: '',\n};\n\nFilter.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n  className: PropTypes.string,\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\n\nimport Button from 'antd/lib/button';\n\nconst Sorting = (props) => {\n  const { id } = props;\n  const classElement = 'cell-2';\n\n  const handlerClick = (ev) => {\n    let up;\n    let down;\n    const sortArr = [];\n\n    const element = ev.target.parentElement;\n    const sortClass = element.className;\n    const sortId = element.id;\n\n    const sortedDown = '.sorted-down';\n    const sortedUp = '.sorted-up';\n\n    if (!isUndefined(sortId)) {\n      const parent = ev.target.parentElement.parentElement.parentElement.parentElement;\n      const cell = parent.querySelectorAll(`div.${classElement}`);\n\n      for (let i = 0; i < cell.length; i += 1) {\n        const item = cell[i];\n        if (item.id !== sortId) {\n          up = item.querySelector(sortedUp);\n          down = item.querySelector(sortedDown);\n\n          up.style.display = 'inline';\n          down.style.display = 'inline';\n\n          item.classList.remove('sorting_desc', 'sorting_asc');\n          item.classList.add('sorting');\n        }\n      }\n\n      if (sortClass === `${classElement} sorting`) {\n        up = element.querySelector(sortedUp);\n        down = element.querySelector(sortedDown);\n\n        up.style.display = 'none';\n        down.style.display = 'inline';\n\n        element.classList.remove('sorting');\n        element.classList.add('sorting_desc');\n\n        down.focus();\n\n        sortArr.push({ name: props.id, status: 'desc' });\n      } else if (sortClass === `${classElement} sorting_asc`) {\n        up = element.querySelector(sortedUp);\n        down = element.querySelector(sortedDown);\n\n        up.style.display = 'none';\n        down.style.display = 'inline';\n\n        element.classList.remove('sorting_asc');\n        element.classList.add('sorting_desc');\n\n        down.focus();\n\n        sortArr.push({ name: props.id, status: 'desc' });\n      } else if (sortClass === `${classElement} sorting_desc`) {\n        up = element.querySelector(sortedUp);\n        down = element.querySelector(sortedDown);\n\n        up.style.display = 'inline';\n        down.style.display = 'none';\n\n        element.classList.remove('sorting_desc');\n        element.classList.add('sorting_asc');\n\n        up.focus();\n\n        sortArr.push({ name: props.id, status: 'asc' });\n      }\n\n      props.fsort(sortArr);\n    }\n  };\n\n  return (\n    <div\n      role=\"form\"\n      className=\"cell-2 sorting\"\n      id={id}\n      aria-controls=\"DataTables_Table_1\"\n    >\n      <Button onClick={handlerClick} onKeyDown={handlerClick} type=\"link\" icon=\"caret-up\" className=\"sorted-up\" />\n      <Button onClick={handlerClick} onKeyDown={handlerClick} type=\"link\" icon=\"caret-down\" className=\"sorted-down\" />\n    </div>\n  );\n};\n\nSorting.propTypes = {\n  id: PropTypes.string.isRequired,\n  fsort: PropTypes.func.isRequired,\n};\n\nexport default Sorting;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Input from 'antd/lib/input';\n\nconst Search = (props) => {\n  const {\n    maxWidth,\n    minWidth,\n    value: setValue,\n    model,\n    callback,\n    placeholder: setPlaceholder,\n    isFocus,\n  } = props;\n\n  const addPlaceholder = (element, placeholder) => {\n    // beforebegin, afterbegin, beforeend, afterend\n    element.insertAdjacentHTML(\n      'beforeend',\n      `<div class=\"placeholder\">${placeholder}</div>`,\n    );\n  };\n\n  const findSelector = '.placeholder';\n\n  const isSelector = (element, selecors) => (element.querySelector(selecors) === null);\n\n  const inputRef = React.createRef();\n\n  useEffect(() => {\n    if (isFocus) {\n      inputRef.current.focus();\n    }\n\n    if (setValue) {\n      const {\n        props: {\n          placeholder,\n        },\n        input: {\n          parentElement,\n        },\n      } = inputRef.current;\n\n      const isPlaceholder = isSelector(parentElement, findSelector);\n\n      if (isPlaceholder) {\n        addPlaceholder(parentElement, placeholder);\n\n        inputRef.current.input.placeholder = '';\n        inputRef.current.input.setAttribute('style', 'border-bottom: 1px solid #ac2925;');\n      }\n    }\n  }, [setValue]);\n\n  const handlerFocus = (ev) => {\n    const { placeholder, parentElement } = ev.target;\n\n    const isPlaceholder = isSelector(parentElement, findSelector);\n    if (isPlaceholder) {\n      addPlaceholder(parentElement, placeholder);\n\n      ev.target.setAttribute('placeholder', '');\n    }\n\n    ev.target.setAttribute('style', 'border-bottom: 1px solid #ac2925;');\n  };\n\n  const handlerBlur = (ev) => {\n    const { value, parentElement } = ev.target;\n\n    if (value.length === 0) {\n      const isPlaceholder = isSelector(parentElement, findSelector);\n      if (!isPlaceholder) {\n        const placeholder = parentElement.querySelector(findSelector).textContent;\n        ev.target.setAttribute('placeholder', placeholder);\n\n        parentElement.querySelector(findSelector).remove();\n      }\n\n      ev.target.setAttribute('style', 'border-bottom: 1px solid #e5e6e7;');\n    }\n  };\n\n  const handleChange = (ev) => {\n    const { value } = ev.target;\n    callback(model, value);\n  };\n\n  const style = {};\n  if (maxWidth) {\n    style.minWidth = `${maxWidth}px`;\n  }\n\n  if (maxWidth) {\n    style.maxWidth = `${minWidth}px`;\n  }\n\n  return (\n    <div className=\"cell\" style={style}>\n      <Input\n        key=\"input-search\"\n        ref={inputRef}\n        value={setValue}\n        onFocus={handlerFocus}\n        onBlur={handlerBlur}\n        onChange={handleChange}\n        className=\"filter-search\"\n        placeholder={setPlaceholder}\n      />\n    </div>\n  );\n};\n\nSearch.defaultProps = {\n  maxWidth: 0,\n  minWidth: 0,\n  value: null,\n  placeholder: '',\n  isFocus: false,\n};\n\nSearch.propTypes = {\n  model: PropTypes.string.isRequired,\n  maxWidth: PropTypes.number,\n  minWidth: PropTypes.number,\n  placeholder: PropTypes.string,\n  callback: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  isFocus: PropTypes.bool,\n};\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Text = (props) => {\n  const { children } = props;\n\n  return (\n    <div className=\"cell\">\n      <div className=\"filter-text\">{children}</div>\n    </div>\n  );\n};\n\nText.defaultProps = {\n  children: '',\n};\n\nText.propTypes = {\n  children: PropTypes.string,\n};\n\nexport default Text;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport map from 'lodash/map';\n\nimport './css/index.less';\n\nconst Table = (props) => {\n  const {\n    className,\n    overlayClassName,\n    striped,\n    middle,\n    responsive,\n    thead,\n    children,\n  } = props;\n\n  const classes = classNames(className, overlayClassName, {\n    'table-striped': striped,\n    'table-middle': middle,\n    'table-responsive': responsive,\n  });\n\n  return (\n    <table className={classes}>\n      <thead className=\"table-thead\">\n        <tr>\n          {\n            (thead) ? map(thead) : null\n          }\n        </tr>\n      </thead>\n      <tbody>\n        {children}\n      </tbody>\n    </table>\n  );\n};\n\nTable.defaultProps = {\n  striped: true,\n  middle: true,\n  responsive: true,\n  className: 'table table-filter',\n  overlayClassName: null,\n  children: [],\n  thead: [],\n};\n\nTable.propTypes = {\n  overlayClassName: PropTypes.string,\n  striped: PropTypes.bool,\n  thead: PropTypes.arrayOf(PropTypes.object),\n  children: PropTypes.arrayOf(PropTypes.object),\n  middle: PropTypes.bool,\n  responsive: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nexport default Table;\n","export { default as Filters } from './component/core/filters';\nexport { default as Pagination } from './component/pagination';\nexport { default as Filter } from './component/filter/filter';\nexport { default as Sorting } from './component/filter/sorting';\nexport { default as Search } from './component/filter/search';\nexport { default as Text } from './component/filter/text';\nexport { default as Table } from './component/table/table';\nexport { default as Logout } from './logout';\n","import isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport isString from 'lodash/isString';\nimport map from 'lodash/map';\nimport keys from 'lodash/keys';\nimport split from 'lodash/split';\nimport fetch from 'node-fetch';\n\nimport config from '../../../../config';\n\nconst errorMsg = (param) => {\n  if (isString(param)) {\n    return param;\n  }\n\n  const str = ['<ul class=\"list-unstyled\">'];\n  const strLi = map(param, (item) => `<li>${item}</li>`);\n  const newStr = str.concat(strLi);\n\n  newStr.push('</ul>');\n\n  return newStr.join(' ');\n};\n\nconst getParams = (data) => (\n  map(keys(data), (key) => `${key}=${encodeURIComponent(data[key])}`).join('&')\n);\n\nexport default class Query {\n  constructor(options) {\n    this.type = isNil(options.type) ? 'POST' : options.type;\n    this.data = isNil(options.data) ? null : options.data;\n    this.pointApi = isNil(options.pointApi) ? null : options.pointApi;\n    this.domain = isNil(options.domain) ? config.domain.api : options.domain;\n\n    this.message = config.message;\n    this.page = config.page;\n  }\n\n  send() {\n    return this.fetch();\n  }\n\n  response = (json) => {\n    let result = null;\n\n    if (json !== undefined) {\n      if (json.status === 'ok') {\n        if (json.msg) {\n          this.success(json.msg);\n        }\n\n        if (json.result) {\n          result = json.result;\n        } else {\n          result = true;\n        }\n      } else if (json.msg) {\n        this.error(errorMsg(json.msg));\n\n        result = false;\n      }\n    }\n\n    return result;\n  };\n\n  result(action = null) {\n    if (isFunction(action)) {\n      const responseBefore = action;\n\n      return this.send().then(responseBefore).then(this.response);\n    }\n\n    return this.send().then(this.response);\n  }\n\n  getUrl() {\n    let url = '';\n\n    if (this.type === 'GET') {\n      let get = null;\n\n      if (this.data) {\n        get = getParams(this.data);\n      }\n\n      url = get\n        ? this.domain + config.server.setPoint + this.pointApi + config.server.prefix + get\n        : this.domain + config.server.setPoint + this.pointApi;\n    } else {\n      url = this.domain + config.server.setPoint + this.pointApi;\n    }\n\n    return url;\n  }\n\n  getFetchParam() {\n    let fetchParam = {};\n\n    if (this.type === 'GET') {\n      fetchParam = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n      };\n    } else {\n      fetchParam = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(this.data),\n        credentials: 'include',\n      };\n    }\n\n    return fetchParam;\n  }\n\n  fetch() {\n    const url = this.getUrl();\n    const fetchParam = this.getFetchParam();\n\n    return fetch(url, fetchParam).then((response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n\n      if (response.status === 500) {\n        this.message.error(config.error[response.status]);\n      } else if (response.status === 404) {\n        this.message.error(config.error[response.status]);\n      } else if (response.status === 423) {\n        this.message.error(config.error[response.status]);\n      } else if (response.status === 401) {\n        this.requestXdomainToken(url);\n      } else if (response.status === 403) {\n        this.message.error(config.error[response.status]);\n      } else if (response.status === 417) {\n        this.message.error(config.error[response.status]);\n      }\n\n      return null;\n    });\n  }\n\n  error(message) {\n    this.message.error(message);\n  }\n\n  success(message) {\n    this.message.success(message);\n  }\n\n  loginPage() {\n    this.page.login();\n  }\n\n  requestXdomainToken(setUrl) {\n    // We request a token on the authorization server\n    const url = `${config.domain.auth}${config.server.setPoint}/auth/get-xdomain-token`;\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.withCredentials = true;\n    xhr.send();\n\n    const self = this;\n    xhr.onload = function onload() {\n      if (xhr.status === 401) {\n        self.loginPage();\n      } else if (xhr.status === 200) {\n        const result = JSON.parse(xhr.response);\n        const arr = split(setUrl, '/');\n        const domain = `${arr[0]}//${arr[2]}`;\n        const domainAuth = `${domain}${config.server.setPoint}auth/login`;\n\n        const formData = new FormData();\n        formData.append('xdomainToken', result.xdomainToken);\n        const xhrX = new XMLHttpRequest();\n        xhrX.open('POST', domainAuth, true);\n        xhrX.withCredentials = true;\n        xhrX.send(formData);\n\n        xhrX.onload = function onloadX() {\n          if (xhrX.status === 401) {\n            self.loginPage();\n          } else if (xhrX.status === 200) {\n            document.location.reload(true);\n          }\n        };\n      }\n    };\n  }\n}\n","import React from 'react';\n\nimport { Modal, Icon, Button } from 'antd';\n\nimport config from '../../config';\n\nconst {\n  confirm,\n} = Modal;\n\nconst Logout = () => {\n  const handleLogout = () => {\n    confirm({\n      title: 'Вы хотите выйти?',\n      okText: 'Да',\n      okType: 'danger',\n      cancelText: 'Нет',\n      onOk() {\n        const urlAuth = `${config.domain.auth}${config.server.setPoint}/auth/log-out`;\n\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', urlAuth, true);\n        xhr.withCredentials = true;\n        xhr.send();\n        xhr.onload = function onload() {\n          const urlMain = `${config.domain.api}${config.server.setPoint}/auth/log-out`;\n          const xhrX = new XMLHttpRequest();\n          xhrX.open('POST', urlMain, true);\n          xhrX.withCredentials = true;\n          xhrX.send();\n          xhrX.onload = function onloadX() {\n            config.page.login();\n          };\n        };\n      },\n    });\n  };\n\n  return (\n    <Button\n      type=\"danger\"\n      size=\"small\"\n      onClick={handleLogout}\n    >\n      <Icon type=\"logout\" />\n      Выход\n    </Button>\n  );\n};\n\nexport default Logout;\n","import { combineReducers } from 'redux';\nimport toUpper from 'lodash/toUpper';\nimport includes from 'lodash/includes';\n\nfunction ucFirst(str) {\n  if (!str) return str;\n\n  return toUpper(str[0]) + str.slice(1);\n}\n\nconst actionReducers = (status) => (state = null, action) => {\n  if (includes(status, action.type)) {\n    return action.data;\n  }\n\n  return state;\n};\n\nconst reducer = (module) => {\n  const { models } = module;\n\n  const reducers = {};\n  for (let i = 0; i < models.length; i += 1) {\n    const model = models[i];\n\n    for (let a = 0; a < model.points.length; a += 1) {\n      const point = model.points[a];\n\n      const method = `${model.name}${ucFirst(point)}`;\n      const action = toUpper(`${module.name}_${model.name}${point}`);\n\n      reducers[method] = actionReducers([action]);\n    }\n  }\n\n  return combineReducers(reducers);\n};\n\nexport default reducer;\n","import toUpper from 'lodash/toUpper';\n\nconst middlewareAction = (store, action) => {\n  const [point] = action.actions;\n\n  if (action.promise.constructor.name === 'Promise') {\n    action.promise.then((data) => {\n      store.dispatch({\n        type: toUpper(point),\n        data,\n      });\n\n      return true;\n    }, (error) => {\n      store.dispatch({\n        type: toUpper(point),\n        error,\n      });\n    }).catch((criticalError) => {\n      store.dispatch({\n        type: toUpper(point),\n        error: criticalError,\n      });\n    });\n  } else {\n    store.dispatch({\n      type: toUpper(point),\n      data: action.promise,\n    });\n  }\n\n  return true;\n};\n\nexport default middlewareAction;\n","import toUpper from 'lodash/toUpper';\nimport middlewareAction from './middleware';\n\nconst middleware = (model) => (store) => (next) => (action) => {\n  if (toUpper(model) === toUpper(action.type)) {\n    return middlewareAction(store, action);\n  }\n\n  return next(action);\n};\n\nexport default middleware;\n","import toUpper from 'lodash/toUpper';\n\nexport default function sendTo(api, model, action, data, callback) {\n  return {\n    type: model,\n    actions: [`${model}_${toUpper(action)}`],\n    promise: api(action, data, callback),\n  };\n}\n","import { bindActionCreators } from 'redux';\n\nimport actions from './action';\n\n/**\n *\n * @param api function\n * @param module string\n * @param dispatch object\n * @returns {function(*=, *=, *=): {promise: *, type: *, actions: [string]}}\n */\nexport default function creator(api, module, dispatch) {\n  const sendTo = bindActionCreators({ actions }, dispatch).actions;\n\n  return (action, data, callback) => sendTo(api, module, action, data, callback);\n}\n"],"sourceRoot":""}